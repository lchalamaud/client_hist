function initConfig(){var e=$("#config").text().split("-");timeStepPref=e[0],commercialPref=e[1],enCours=e[2],oublie=e[3],suspendu=e[4],fin=e[5],signe=e[6],signEC=e[7]}function setInitStateConfig(){etatFilter="",enCours&&($("#cbEnCours").prop("checked",!0),etatFilter="En Cours"),oublie&&($("#cbOublie").prop("checked",!0),""==etatFilter?etatFilter+="Oublié":etatFilter+="|Oublié"),suspendu&&($("#cbSuspendu").prop("checked",!0),""==etatFilter?etatFilter+="Suspendu":etatFilter+="|Suspendu"),fin&&($("#cbFin").prop("checked",!0),""==etatFilter?etatFilter+="Fin":etatFilter+="|Fin"),signe&&($("#cbSigne").prop("checked",!0),""==etatFilter?etatFilter+="Signé":etatFilter+="|Signé"),signEC&&($("#cbSignEC").prop("checked",!0),""==etatFilter?etatFilter+="Sign EC":etatFilter+="|Sign EC")}function setTimeStep(e){var t=new Date,a=formatDate(t).split("-"),i=t.getDay();switch(e){case"prevDay":t.setDate(t.getDate()-1),min=formatDate(t),max=min;break;case"onDay":min=formatDate(t),max=min;break;case"nextDay":t.setDate(t.getDate()+1),min=formatDate(t),max=min;break;case"prevWeek":t.setDate(t.getDate()-i-6),min=formatDate(t),t.setDate(t.getDate()+6),max=formatDate(t);break;case"onWeek":t.setDate(t.getDate()-i+1),min=formatDate(t),t.setDate(t.getDate()+6),max=formatDate(t);break;case"nextWeek":t.setDate(t.getDate()+8-i),min=formatDate(t),t.setDate(t.getDate()+6),max=formatDate(t);break;case"prevMonth":var n=new Date(a[0],a[1]-2,1);min=formatDate(n);var r=new Date(a[0],a[1]-1,0);max=formatDate(r);break;case"onMonth":n=new Date(a[0],a[1]-1,1);min=formatDate(n);r=new Date(a[0],a[1],0);max=formatDate(r);break;case"nextMonth":n=new Date(a[0],a[1],1);min=formatDate(n);r=new Date(a[0],parseInt(a[1])+1,0);max=formatDate(r);break;default:return{min:"",max:""}}return $("#timeSelect option").filter(function(){return $(this).val()==e}).prop("selected",!0),{min:reorderDate(min),max:reorderDate(max)}}function setConfig(){prefConfig={timeStep:$("#timeSelect option:selected").val(),commercial:$("#commercialSelect select option:selected").val(),enCours:$("#cbEnCours").is(":checked"),oublie:$("#cbOublie").is(":checked"),suspendu:$("#cbSuspendu").is(":checked"),fin:$("#cbFin").is(":checked"),signe:$("#cbSigne").is(":checked"),signEC:$("#cbSignEC").is(":checked")},dataSend=JSON.stringify(prefConfig),$.ajax({type:"post",url:"/pref/save/",success:function(e){},error:function(){},data:dataSend,dataType:"json",contentType:"application/json"})}