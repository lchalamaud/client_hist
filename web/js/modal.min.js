function disable(e){$(e).prop("disabled",!0),$(e).removeClass("enable"),$(e).addClass("disable")}function enable(e){$(e).prop("disabled",!1),$(e).removeClass("disable"),$(e).addClass("enable")}function cleanForm(){$("#affaire_Civilite option").prop("selected",!1),$("#affaire_Nom").val(null),$("#affaire_Prenom").val(null),$("#affaire_Societe").val(null),$("#affaire_Rue").val(null),$("#affaire_Complement").val(null),$("#affaire_CP").val(null),$("#affaire_Ville").val(null),$("#affaire_EMail").val(null),$("#affaire_Telephone").val(null),$("#affaire_NbController").val(null),$("#affaire_DevisType option").prop("selected",!1),$("#affaire_SystemType option").prop("selected",!1),$("#affaire_Provenance option").prop("selected",!1),$("#affaire_Debut").val(null),$("#affaire_Commercial option").prop("selected",!1),$("#affaire_Commentaire").val(null)}function fillForm(e){$("#affaire_Civilite option").filter(function(){return $(this).text()==tabSelectVal(e,2)}).prop("selected",!0),$("#affaire_Nom").val(tabSelectVal(e,3)),$("#affaire_Societe").val(tabSelectVal(e,4)),$("#affaire_Rue").val(tabSelectVal(e,5)),$("#affaire_Complement").val(tabSelectVal(e,6)),$("#affaire_CP").val(tabSelectVal(e,7)),$("#affaire_Ville").val(tabSelectVal(e,8)),$("#affaire_EMail").val(tabSelectVal(e,9)),$("#affaire_Telephone").val(tabSelectVal(e,10)),$("#affaire_NbController").val(tabSelectVal(e,11)),$("#affaire_DevisType option").filter(function(){switch(tabSelectVal(e,12)){case"Loc.":return"Location"==$(this).text();case"Rens.":return"Renseignement"==$(this).text();case"Achat":return"Achat"==$(this).text()}}).prop("selected",!0),$("#affaire_SystemType option").filter(function(){switch(tabSelectVal(e,13)){case"Ent.":return"QuizzBox Entreprise"==$(this).text();case"SSIAP/CQP":return"Version SSIAP - CQP"==$(this).text();case"Campus":return"QuizzBox Campus"==$(this).text();case"Educ.":return"QuizzBox Education"==$(this).text();case"AG":return"QuizzBox Assemblée Générale"==$(this).text();case"Autres":return"Autres"==$(this).text()}}).prop("selected",!0),$("#affaire_Provenance option").filter(function(){return $(this).text()==tabSelectVal(e,14)}).prop("selected",!0),$("#affaire_Debut").val(tabSelectVal(e,15)),$("#affaire_Commercial option").filter(function(){return $(this).text()==tabSelectVal(e,18).slice(84)}).prop("selected",!0),$("#affaire_Commentaire").val(tabSelectVal(e,19))}function getFormVal(e){return jsonResp={civilite:$("#affaire_Civilite").val(),nom:$("#affaire_Nom").val()+" "+$("#affaire_Prenom").val(),societe:$("#affaire_Societe").val(),rue:$("#affaire_Rue").val(),complement:$("#affaire_Complement").val(),cp:$("#affaire_CP").val(),ville:$("#affaire_Ville").val(),email:$("#affaire_EMail").val(),telephone:$("#affaire_Telephone").val(),nbController:$("#affaire_NbController").val(),devisType:$("#affaire_DevisType").val(),systemType:$("#affaire_SystemType").val(),provenance:$("#affaire_Provenance").val(),debut:$("#affaire_Debut").val(),commercial:$("#affaire_Commercial").val(),commentaire:$("#affaire_Commentaire").val(),id:e},jsonResp}function updateTableVal(e,a,l){e.cell(".selected",2).data(a.civilite),e.cell(".selected",3).data(a.nom),e.cell(".selected",4).data(a.societe),e.cell(".selected",5).data(a.rue),e.cell(".selected",6).data(a.complement),e.cell(".selected",7).data(a.cp),e.cell(".selected",8).data(a.ville),e.cell(".selected",9).data(a.email),e.cell(".selected",10).data(a.telephone),e.cell(".selected",11).data(a.nbController),e.cell(".selected",12).data(a.devisType),e.cell(".selected",13).data(a.systemType),e.cell(".selected",14).data(a.provenance),e.cell(".selected",15).data(a.debut),e.cell(".selected",18).data(a.commercial?'<span class="colorSquare blockColorSquare" style="background-color:'+l+';"></span>'+a.commercial:""),e.cell(".selected",19).data(a.commentaire),e.page(e.page.info().page).draw("page")}$(document).on("keyup",function(e){27==e.which?($("#addAffaireModal").hide(),$("#delAffaireModal").hide(),$("#delResponse").empty()):e.which}),$(".close").on("click",function(){$("#addAffaireModal").hide(),$("#delAffaireModal").hide(),$("#delResponse").empty()}),window.onclick=function(e){"addAffaireModal"==e.target.id?$("#addAffaireModal").hide():"delAffaireModal"==e.target.id&&($("#delAffaireModal").hide(),$("#delResponse").empty())},$("#addAffaireBtn").on("click",function(){cleanForm(),$("#modifConfirmBtn").hide(),$("#affaire_Ajouter").show(),$("#addAffaireModal").show(),$("#addAffaireModal").removeClass("modifAffaire"),$("#addAffaireModal").addClass("newAffaire")}),$("#modifAffaireBtn").on("click",function(){$("#affaire_Ajouter").css("display","none"),$("#modifConfirmBtn").css("display","inline-block"),$("#addAffaireModal").show(),$("#addAffaireModal").removeClass("newAffaire"),$("#addAffaireModal").addClass("modifAffaire")}),$("#delAffaireBtn").on("click",function(){$("#delAffaireModal").show()});